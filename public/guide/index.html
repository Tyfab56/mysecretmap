<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>PWA Guide</title>
        <link
            rel="stylesheet"
            href="https://unpkg.com/framework7/framework7-bundle.min.css"
        />
    </head>

    <body>
        <div id="app">
            <!-- Your Framework7 app content here -->
        </div>

        <script src="https://unpkg.com/framework7/framework7-bundle.min.js"></script>
        <script>
            var app = new Framework7({
                root: "#app",
                routes: [
                    {
                        path: "/guide/:country/:lang",
                        url: "./pages/guide.html",
                    },
                    {
                        path: "(.*)", // Catch-all route for undefined paths
                        url: "./pages/404.html",
                    },
                ],
            });

            // Extract parameters from the URL
            var urlParams = new URLSearchParams(window.location.search);
            var country = urlParams.get("country");
            var lang = urlParams.get("lang");

            if (!country || !lang) {
                alert("Country and language parameters are missing!");
            } else {
                console.log("Country: " + country + ", Language: " + lang);
                // Load the guide page
                app.router.navigate("/guide/" + country + "/" + lang);
            }
        </script>
    </body>
</html>
